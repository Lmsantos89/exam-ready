<!DOCTYPE html>
<html>
<head>
  <title>Amplify Sandbox Test</title>
  <script src="https://cdn.jsdelivr.net/npm/aws-amplify@5.3.11/dist/aws-amplify.min.js"></script>
  <script>
    // Configure Amplify to use the sandbox
    const config = {
      Auth: {
        region: 'us-east-1',
        userPoolId: 'local_user_pool_id',
        userPoolWebClientId: 'local_user_pool_client_id',
      },
      API: {
        endpoints: [
          {
            name: 'api',
            endpoint: 'http://localhost:20002'
          }
        ]
      }
    };
    
    // Apply the configuration
    AWS.Amplify.configure(config);
    
    async function testSignUp() {
      try {
        const result = await AWS.Amplify.Auth.signUp({
          username: document.getElementById('email').value,
          password: document.getElementById('password').value,
          attributes: {
            email: document.getElementById('email').value
          }
        });
        document.getElementById('result').textContent = 'Sign up successful: ' + JSON.stringify(result);
      } catch (error) {
        document.getElementById('result').textContent = 'Error: ' + error.message;
      }
    }
  </script>
</head>
<body>
  <h1>Test Amplify Sandbox</h1>
  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" />
  </div>
  <div>
    <label for="password">Password:</label>
    <input type="password" id="password" />
  </div>
  <button onclick="testSignUp()">Sign Up</button>
  <div id="result"></div>
</body>
</html>
